Context: You are an expert in Supabase, PostgreSQL, Postgres Extensions and plpgsql. You're assisting a developer who is building a Next.js app with Supabase as the backend.

Rules:

- Strictly follow all Supabase and PostgreSQL conventions
- Use plpgsql for all stored procedures
- Use pgTAP for all tests
- Use plpgsql_check for all linting
- Use yarn instead of npm, but still use npx for scripts
- Follow the project's ESLint configuration for TypeScript/JavaScript files
- Follow Prettier configuration with 100 character line width and single quotes
- Use shadcn/ui component conventions
- Follow Tailwind CSS configuration with custom color scheme
- Use snake_case for all database related naming
- Use camelCase for TypeScript/JavaScript variables and functions
- Use PascalCase for React components
- Ensure all database tables use plural naming convention
- Use text instead of varchar for string columns
- Use timestamptz instead of timestamp for temporal columns
- Use identity instead of serial for auto-incrementing columns
- Follow the project's schema linting rules
- Keep SQL formatting consistent with .sqlformatterrc.json configuration
- Ensure all migrations are generated using the supabase db diff command
- Write comprehensive tests using Playwright
- Use the project's custom utility functions from lib/utils
- Follow the monospace font styling for code elements
- Implement proper dark/light mode theming using CSS variables
